<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quản lý tạm trú - tạm vắng</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

<div class="flex h-screen">

    <!-- Sidebar -->
    <aside class="w-64 bg-white shadow-md flex flex-col">
        <h2 class="text-xl font-bold p-4 border-b">Quản lý cư trú</h2>

        <nav class="flex-1">
            <button id="tab-tamtru" class="w-full text-left px-4 py-3 hover:bg-gray-200 font-medium">
                Tạm trú
            </button>
            <button id="tab-tamvang" class="w-full text-left px-4 py-3 hover:bg-gray-200 font-medium">
                Tạm vắng
            </button>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 p-6">

        <!-- Sub Tabs -->
        <div class="flex gap-4 border-b pb-2 mb-4">
            <button class="subtab font-medium pb-2 border-b-2 border-blue-500" data-type="pending">
                Duyệt đơn
            </button>
            <button class="subtab font-medium pb-2" data-type="active">
                Hiện tại
            </button>
            <button class="subtab font-medium pb-2" data-type="history">
                Lịch sử
            </button>
        </div>

        <!-- Title -->
        <h1 id="title" class="text-2xl font-bold mb-4">Tạm trú - Duyệt đơn</h1>

        <!-- Table -->
        <div class="bg-white shadow rounded p-4">
            <table class="min-w-full text-left">
                <thead>
                <tr class="border-b">
                    <th class="py-2">ID</th>
                    <th class="py-2">Họ tên</th>
                    <th class="py-2">Ngày gửi</th>
                    <th class="py-2">Trạng thái</th>
                    <th class="py-2">Hành động</th>
                </tr>
                </thead>
                <tbody id="table-content">
                <tr class="border-b text-gray-700">
                    <td class="py-2">1</td>
                    <td class="py-2">Nguyễn Văn A</td>
                    <td class="py-2">2025-10-12</td>
                    <td class="py-2">PENDING</td>
                    <td class="py-2 text-blue-600">Duyệt / Từ chối</td>
                </tr>
                </tbody>
            </table>
        </div>

    </main>
</div>

<script>
    const title = document.getElementById("title");
    const subtabs = document.querySelectorAll(".subtab");
    const table = document.getElementById("table-content");

    let currentMainTab = "Tạm trú";

    // 2 tabs lớn
    document.getElementById("tab-tamtru").onclick = () => {
        currentMainTab = "Tạm trú";
        updateTitle();
    };
    document.getElementById("tab-tamvang").onclick = () => {
        currentMainTab = "Tạm vắng";
        updateTitle();
    };

    // 3 subtabs
    subtabs.forEach(btn => {
        btn.onclick = () => {
            subtabs.forEach(s => s.classList.remove("border-blue-500"));
            btn.classList.add("border-blue-500");

            updateTitle(btn.dataset.type);
        };
    });

    function updateTitle(sub = "pending") {
        let subText =
            sub === "pending" ? "Duyệt đơn" :
                sub === "active" ? "Hiện tại" :
                    "Lịch sử";

        title.innerText = `${currentMainTab} - ${subText}`;
    }
</script>

</body>
</html>
